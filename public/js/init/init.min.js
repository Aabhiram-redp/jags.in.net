(function() {
  var initJags, initScrollMenus;

  window.JAGS = window.JAGS || {};

  JAGS.load = (function() {
    function load() {
      this.normalHeader = $('.main-header');
      $('[data-toggle="tooltip"]').tooltip;
      this.parallaxWrapper = $('.extras');
    }

    load.prototype.init = function() {
      return this.changeHeader();
    };

    load.prototype.stickyHeader = function() {
      this.normalHeader.addClass('sticky-header');
      return false;
    };

    load.prototype.defaultHeader = function() {
      this.normalHeader.removeClass('sticky-header');
      return false;
    };

    load.prototype.changeHeader = function() {
      var scrollTop;
      scrollTop = $(window);
      if (scrollTop.scrollTop() > 100) {
        return this.stickyHeader();
      } else {
        return this.defaultHeader();
      }
    };

    return load;

  })();

  JAGS.scrollMenuSelect = (function() {
    function scrollMenuSelect() {
      this.scrollHeaderMenus = $('#main-header-menu ul li');
    }

    scrollMenuSelect.prototype.activeMenus = function() {
      var scrollTop, that;
      that = this;
      scrollTop = $(window).scrollTop() + $('.main-header').outerHeight();
      return this.scrollHeaderMenus.each(function(index, value) {
        var element, scrollSamePage, scrollSection, scrollSectionBottomOffset, scrollSectionTopOffset, _ref;
        element = $(value).children('a');
        scrollSection = element.attr('href');
        scrollSamePage = (_ref = element.attr('data-page') === "same") != null ? _ref : {
          "true": false
        };
        if (typeof scrollSection !== "undefined" && scrollSamePage) {
          scrollSectionTopOffset = $(scrollSection).offset().top;
          scrollSectionBottomOffset = $(scrollSection).offset().top + $(scrollSection).outerHeight();
          if (scrollSectionTopOffset < scrollTop && scrollSectionBottomOffset > scrollTop) {
            that.scrollHeaderMenus.removeClass('active');
            return $(value).addClass('active');
          }
        }
      });
    };

    return scrollMenuSelect;

  })();

  initJags = new JAGS.load();

  initScrollMenus = new JAGS.scrollMenuSelect();

  $(window).load(function() {
    if ($('.home').length > 0) {
      return initJags.init();
    }
  });

  $(window).scroll(function() {
    if ($('.home').length > 0) {
      initJags.changeHeader();
      return initScrollMenus.activeMenus();
    }
  });

}).call(this);
